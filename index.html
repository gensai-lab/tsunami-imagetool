<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>津波マップ生成ツール</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        #map { width: 100%; height: 600px; background: #000033; } /* ニュース風に背景を暗く */
        .controls { padding: 10px; background: #f0f0f0; }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="saveImage()">PNGとして保存</button>
        <p>※ここに後でチェックボックスを並べます</p>
    </div>
    <div id="map"></div>

    <script>
        // 日本全体を表示する初期設定
        var map = L.map('map').setView([35.0, 137.0], 5);
        
        // 背景（海や陸）のタイルを読み込む（とりあえずのOSM）
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // 画像保存関数
        function saveImage() {
            html2canvas(document.querySelector("#map")).then(canvas => {
                let link = document.createElement("a");
                link.download = "tsunami_map.png";
                link.href = canvas.toDataURL();
                link.click();
            });
        }
    </script>
</body>
</html>
